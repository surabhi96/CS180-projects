<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CS180/CS280A Project 1 — Colorizing the Prokudin-Gorskii Photo Collection</title>
  <style>
    body {font-family: Arial, sans-serif; font-size:16px; line-height:1.6; margin:0; padding:20px; background:#fff; color:#000;}
    img {max-width:100%; height:auto; display:block; margin:20px 0;}
    table {border-collapse: collapse; width:100%; margin:20px 0;}
    th,td {border:1px solid #ccc; padding:6px 10px; text-align:left;}
    thead th {background:#f1f5f9;}
  </style>
</head>
<body>
  <h1>CS180/CS280A Project 1 — Colorizing the Prokudin-Gorskii Photo Collection</h1>

  <h2>Offsets Table</h2>
  <table>
    <thead>
      <tr>
        <th>Image</th>
        <th>B→G (dx, dy)</th>
        <th>R→G (dx, dy)</th>
        <th>Method</th>
      </tr>
    </thead>
    <tbody>
      <tr><td>emir.tif</td><td>(-24, -49)</td><td>(17, 57)</td><td>Multi-scale</td></tr>
      <tr><td>italil.tif</td><td>(-21, -38)</td><td>(15, 39)</td><td>Multi-scale</td></tr>
      <tr><td>monastery.jpg</td><td>(-2, 3)</td><td>(1, 6)</td><td>Single-scale</td></tr>
      <tr><td>church.tif</td><td>(-4, -25)</td><td>(-8, 33)</td><td>Multi-scale</td></tr>
      <tr><td>three_generations.tif</td><td>(-14, -53)</td><td>(-3, 58)</td><td>Multi-scale</td></tr>
      <tr><td>lugano.tif</td><td>(16, -41)</td><td>(-13, 52)</td><td>Multi-scale</td></tr>
      <tr><td>melons.tif</td><td>(-11, -82)</td><td>(4, 96)</td><td>Multi-scale</td></tr>
      <tr><td>lastochikino.tif</td><td>(2, 3)</td><td>(-7, 78)</td><td>Multi-scale</td></tr>
      <tr><td>tobolsk.jpg</td><td>(-3, -3)</td><td>(1, 4)</td><td>Single-scale</td></tr>
      <tr><td>icon.tif</td><td>(-17, -41)</td><td>(5, 48)</td><td>Multi-scale</td></tr>
      <tr><td>siren.tif</td><td>(6, -49)</td><td>(-18, 47)</td><td>Multi-scale</td></tr>
      <tr><td>self_portrait.tif</td><td>(-29, -79)</td><td>(8, 98)</td><td>Multi-scale</td></tr>
      <tr><td>harvesters.tif</td><td>(-17, -60)</td><td>(-3, 65)</td><td>Multi-scale</td></tr>
    </tbody>
  </table>
  <p>All offsets are integer pixel shifts that align B and R channels to G.</p>

  <h2>Results</h2>

  <h3>Single-scale Alignment Results</h3>
  <ul>
    <li>Split the glass plate into three channels: B (reference), G, and R.</li>
    <li>Exhaustively search over a fixed window of (dx, dy) displacements for G and R relative to B.</li>
    <li>Crop borders to ignore artifacts, then compute SSD or NCC for each candidate displacement.</li>
    <li>Select the displacement with the best score and stack the shifted channels into an RGB image.</li>
  </ul>
  <img src="results/monastery.jpg" alt="monastery.jpg result">
  <img src="results/tobolsk.jpg" alt="tobolsk.jpg result">
  <img src="results/cathedral.jpg" alt="tobolsk.jpg result">

  <h3>Multi-scale Alignment Results</h3>
  <ul>
    <li>Split into B, G, and R channels and build Gaussian pyramids for each.</li>
    <li>Start at the coarsest level, estimate displacement using SSD or NCC.</li>
    <li>Scale the displacement by 2 and use it as the starting point at the next finer level.</li>
    <li>Refine at each level until full resolution is reached, producing efficient and robust alignment for large images.</li>
  </ul>
  <img src="results/emir.jpg" alt="emir.tif result">
  <img src="results/italil.jpg" alt="italil.tif result">
  <img src="results/church.jpg" alt="church.tif result">
  <img src="results/three_generations.jpg" alt="three_generations.tif result">
  <img src="results/lugano.jpg" alt="lugano.tif result">
  <img src="results/melons.jpg" alt="melons.tif result">
  <img src="results/lastochikino.jpg" alt="lastochikino.tif result">
  <img src="results/icon.jpg" alt="icon.tif result">
  <img src="results/siren.jpg" alt="siren.tif result">
  <img src="results/self_portrait.jpg" alt="self_portrait.tif result">
  <img src="results/harvesters.jpg" alt="harvesters.tif result">

</body>
</html>
